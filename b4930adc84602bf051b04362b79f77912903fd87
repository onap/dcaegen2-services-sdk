{
  "comments": [
    {
      "key": {
        "uuid": "2a1f8bfa_6550748c",
        "filename": "pom.xml",
        "patchSetId": 17
      },
      "lineNbr": 269,
      "author": {
        "id": 2837
      },
      "writtenOn": "2019-11-14T14:20:43Z",
      "side": 1,
      "message": "Sort test dependencies in alphabetic order basing on groupID.",
      "revId": "b4930adc84602bf051b04362b79f77912903fd87",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c107c20_b83dee99",
        "filename": "rest-services/cbs-client/pom.xml",
        "patchSetId": 17
      },
      "lineNbr": 37,
      "author": {
        "id": 2837
      },
      "writtenOn": "2019-11-14T14:20:43Z",
      "side": 1,
      "message": "Same like in main pom - reorder in aphabetic manner",
      "revId": "b4930adc84602bf051b04362b79f77912903fd87",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c7388bb7_9936d559",
        "filename": "rest-services/cbs-client/src/main/java/org/onap/dcaegen2/services/sdk/rest/services/cbs/client/impl/CbsClientImpl.java",
        "patchSetId": 17
      },
      "lineNbr": 68,
      "author": {
        "id": 2837
      },
      "writtenOn": "2019-11-14T14:20:43Z",
      "side": 1,
      "message": "If there is no story behind use in this method field. No reason for passing this as argument.",
      "range": {
        "startLine": 68,
        "startChar": 48,
        "endLine": 68,
        "endChar": 64
      },
      "revId": "b4930adc84602bf051b04362b79f77912903fd87",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b287c2fe_5ee02ca0",
        "filename": "rest-services/cbs-client/src/main/java/org/onap/dcaegen2/services/sdk/rest/services/cbs/client/model/CbsClientConfiguration.java",
        "patchSetId": 17
      },
      "lineNbr": 68,
      "author": {
        "id": 2837
      },
      "writtenOn": "2019-11-14T14:20:43Z",
      "side": 1,
      "message": "Change this description to current implementation.",
      "range": {
        "startLine": 68,
        "startChar": 8,
        "endLine": 68,
        "endChar": 75
      },
      "revId": "b4930adc84602bf051b04362b79f77912903fd87",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "15d59de4_537a43f0",
        "filename": "rest-services/cbs-client/src/main/java/org/onap/dcaegen2/services/sdk/rest/services/cbs/client/model/CbsClientConfiguration.java",
        "patchSetId": 17
      },
      "lineNbr": 159,
      "author": {
        "id": 2837
      },
      "writtenOn": "2019-11-14T14:20:43Z",
      "side": 1,
      "message": "I have reworked this part to use Optional instead of null checking:\n```\n   static CbsClientConfiguration fromEnvironment() {\n        String pathToCaCert \u003d System.getenv(DCAE_CA_CERT_PATH);\n\n        ImmutableCbsClientConfiguration.Builder configBuilder \u003d ImmutableCbsClientConfiguration.builder()\n                .hostname(getEnv(ENV_CBS_HOSTNAME))\n                .appName(getEnv(ENV_APP_NAME));\n        return Optional.ofNullable(pathToCaCert).filter(certPath -\u003e !certPath.equals(\"\"))\n                .map(certPath -\u003e createSslHttpConfig(configBuilder, certPath))\n                .orElse(createPlainHttpConfig(configBuilder));\n    }\n\n    static CbsClientConfiguration createPlainHttpConfig(ImmutableCbsClientConfiguration.Builder configBuilder) {\n        LOGGER.info(\"CBS client will use plain http protocol.\");\n        return configBuilder\n                .protocol(\"http\")\n                .port(Integer.valueOf(getEnv(ENV_CBS_PORT)))\n                .build();\n    }\n\n    static CbsClientConfiguration createSslHttpConfig(ImmutableCbsClientConfiguration.Builder configBuilder,\n                                                      String pathToCaCert) {\n        LOGGER.info(\"CBS client will use http over TLS.\");\n        return configBuilder\n                .trustStoreKeys(crateSecurityKeysFromEnvironment(createPathToJksFile(pathToCaCert)))\n                .port(ENV_CBS_PORT_SECURE)\n                .protocol(\"https\")\n                .build();\n    }\n```\nYou could use it as a code base.",
      "range": {
        "startLine": 139,
        "startChar": 1,
        "endLine": 159,
        "endChar": 5
      },
      "revId": "b4930adc84602bf051b04362b79f77912903fd87",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff0c68db_e8e2b592",
        "filename": "rest-services/cbs-client/src/test/java/org/onap/dcaegen2/services/sdk/rest/services/cbs/client/api/CbsClientConfigurationTest.java",
        "patchSetId": 17
      },
      "lineNbr": 81,
      "author": {
        "id": 2837
      },
      "writtenOn": "2019-11-14T14:20:43Z",
      "side": 1,
      "message": "Add test when DCAE_CA_CERTPATH is null to fully test new functionality.\n\n```\n    @Test\n    void fromEnvironment_shouldReturn_CbsClientConfigurationException_When_DCAE_CA_CERTPATH_is_Null() {\n        // given\n        envs.set(\"CONFIG_BINDING_SERVICE_SERVICE_PORT\", \"9090\");\n        envs.set(\"CONFIG_BINDING_SERVICE\", \"config-binding-service\");\n        envs.set(\"CONFIG_BINDING_SERVICE_PORT_10443_TCP_PORT\", \"10443\");\n        envs.set(\"HOSTNAME\", \"dcae-prh\");\n        envs.set(\"CONSUL_HOST\", \"consul-server.onap\");\n\n        // when\n        CbsClientConfiguration configuration \u003d CbsClientConfiguration.fromEnvironment();\n\n        // then\n        assertThat(configuration.trustStoreKeys()).isNull();\n        assertThat(configuration.protocol()).isEqualTo(\"http\");\n    }\n```",
      "range": {
        "startLine": 81,
        "startChar": 9,
        "endLine": 81,
        "endChar": 101
      },
      "revId": "b4930adc84602bf051b04362b79f77912903fd87",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d8b727bf_4c3e675b",
        "filename": "rest-services/cbs-client/src/test/java/org/onap/dcaegen2/services/sdk/rest/services/cbs/client/api/CbsClientConfigurationTest.java",
        "patchSetId": 17
      },
      "lineNbr": 131,
      "author": {
        "id": 2837
      },
      "writtenOn": "2019-11-14T14:20:43Z",
      "side": 1,
      "message": "Please rename it to something more meaning full. If this prepare path to cert file I would name it preparePathToCertFile. Correct me if I am wrong.",
      "range": {
        "startLine": 131,
        "startChar": 20,
        "endLine": 131,
        "endChar": 31
      },
      "revId": "b4930adc84602bf051b04362b79f77912903fd87",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "417dd33a_0c2294b7",
        "filename": "security/ssl/src/main/java/org/onap/dcaegen2/services/sdk/security/ssl/SslFactory.java",
        "patchSetId": 17
      },
      "lineNbr": 67,
      "author": {
        "id": 2837
      },
      "writtenOn": "2019-11-14T14:20:43Z",
      "side": 1,
      "message": "here also",
      "range": {
        "startLine": 67,
        "startChar": 53,
        "endLine": 67,
        "endChar": 64
      },
      "revId": "b4930adc84602bf051b04362b79f77912903fd87",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba902a58_2f7aa012",
        "filename": "security/ssl/src/main/java/org/onap/dcaegen2/services/sdk/security/ssl/SslFactory.java",
        "patchSetId": 17
      },
      "lineNbr": 69,
      "author": {
        "id": 2837
      },
      "writtenOn": "2019-11-14T14:20:43Z",
      "side": 1,
      "message": "mark here Trust store ...",
      "range": {
        "startLine": 69,
        "startChar": 20,
        "endLine": 69,
        "endChar": 39
      },
      "revId": "b4930adc84602bf051b04362b79f77912903fd87",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}